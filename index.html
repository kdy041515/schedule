
<!doctype html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Basic initialization</title>
	<script src="./dhtmlxscheduler.js?v=7.2.6" charset="utf-8"></script>
	<link rel="stylesheet" href="./dhtmlxscheduler.css" type="text/css" charset="utf-8">
        <style>
                html, body{
                        margin:0px;
                        padding:0px;
                        height:100%;
                        overflow:hidden;
                }

                #scheduler_here{
                }
	</style>

	<script>
		window.addEventListener("DOMContentLoaded", function(){
			scheduler.plugins({
				quick_info: true,
                
			});

            scheduler.config.cascade_event_display = true;
            scheduler.config.details_on_create = true;
            scheduler.config.details_on_dblclick = true;
            scheduler.config.time_step = 1/60; // 1초 단위
            scheduler.config.hour_date = "%H:%i:%s";
            scheduler.config.drag_move = false;
            scheduler.config.drag_resize = false;

            scheduler.config.icons_select = ["icon_edit","icon_delete","icon_details"];
            scheduler.locale.labels.icon_details = "detail";

            scheduler._click.buttons.details = function(id){
                const ev = scheduler.getEvent(id);
                if(ev && ev.href){
                    window.open(ev.href, "_blank");
                }
            };

            scheduler.templates.tooltip_date_format = scheduler.date.date_to_str("%Y-%m-%d %H:%i:%s");

            const colorMap = {};
            function colorFor(text){
                if(colorMap[text]) return colorMap[text];
                let hash = 0;
                for(let i=0;i<text.length;i++) hash = text.charCodeAt(i) + ((hash<<5)-hash);
                const hue = Math.abs(hash) % 360;
                const color = `hsl(${hue},70%,40%)`;
                colorMap[text] = color;
                return color;
            }

            scheduler.form_blocks.time = {
                render:function(sns){
                    function opts(max){
                        let html="";
                        for(let i=0;i<max;i++){
                            let v=("0"+i).slice(-2);
                            html+=`<option value="${i}">${v}</option>`;
                        }
                        return html;
                    }
                    function sel(){
                        return `<select data-unit='hour'>${opts(24)}</select>:`+
                               `<select data-unit='minute'>${opts(60)}</select>:`+
                               `<select data-unit='second'>${opts(60)}</select>`;
                    }
                    const sectionHeight = sns.height ? `style='height:${sns.height}px;'` : "";
                    return `<div class='dhx_section_time' ${sectionHeight}>${sel()}<span class='dhx_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>${sel()}</div>`;
                },
                set_value:function(node,value,ev){
                    const s=node.getElementsByTagName('select');
                    s[0].value=ev.start_date.getHours();
                    s[1].value=ev.start_date.getMinutes();
                    s[2].value=ev.start_date.getSeconds();
                    s[3].value=ev.end_date.getHours();
                    s[4].value=ev.end_date.getMinutes();
                    s[5].value=ev.end_date.getSeconds();
                },
                get_value:function(node,ev){
                    const s=node.getElementsByTagName('select');
                    const start=new Date(ev.start_date);
                    start.setHours(parseInt(s[0].value,10),parseInt(s[1].value,10),parseInt(s[2].value,10));
                    const end=new Date(ev.end_date);
                    end.setHours(parseInt(s[3].value,10),parseInt(s[4].value,10),parseInt(s[5].value,10));
                    return {start_date:start,end_date:end};
                }
            };

            scheduler.init('scheduler_here',new Date(2024,3,20),"week");

            const events = [
                { id:1, start_date: "2024-04-15 02:00", end_date: "2024-04-15 10:20", text:"Product Strategy Hike", href:"https://example.com/1" },
                { id:2, start_date: "2024-04-15 12:00", end_date: "2024-04-15 16:00", text:"Agile Meditation and Release", href:"https://example.com/2" },
                { id:3, start_date: "2024-04-16 06:00", end_date: "2024-04-16 11:00", text:"Tranquil Tea Time", href:"https://example.com/3" },
                { id:4, start_date: "2024-04-16 11:30", end_date: "2024-04-16 19:00", text:"Sprint Review and Retreat", href:"https://example.com/4" },
                { id:5, start_date: "2024-04-17 01:00", end_date: "2024-04-17 03:00", text:"Kayaking Workshop", href:"https://example.com/5" },
                { id:6, start_date: "2024-04-17 06:00", end_date: "2024-04-17 08:00", text:"Stakeholder Sunset Yoga Session", href:"https://example.com/6" },
                { id:7, start_date: "2024-04-17 07:00", end_date: "2024-04-17 12:00", text:"Roadmap Alignment Walk", href:"https://example.com/7" },
                { id:8, start_date: "2024-04-17 13:00", end_date: "2024-04-17 18:00", text:"Mindful Team Building", href:"https://example.com/8" },
                { id:9, start_date: "2024-04-18 01:00", end_date: "2024-04-18 18:00", text:"Cross-Functional Expedition", href:"https://example.com/9" },
                { id:10, start_date: "2024-04-18 14:00", end_date: "2024-04-18 20:00", text:"User Feedback Picnic", href:"https://example.com/10" },
                { id:11, start_date: "2024-04-19 03:00", end_date: "2024-04-19 08:00", text:"Demo and Showcase", href:"https://example.com/11" },
                { id:12, start_date: "2024-04-19 11:00", end_date: "2024-04-19 17:00", text:"Quality Assurance Spa Day", href:"https://example.com/12" },
                { id:13, start_date: "2024-04-20 01:00", end_date: "2024-04-20 03:00", text:"Motion Cycling Adventure", href:"https://example.com/13" },
                { id:14, start_date: "2024-04-20 10:00", end_date: "2024-04-20 16:00", text:"Competitor Analysis Beach Day", href:"https://example.com/14" },
                { id:15, start_date: "2024-04-21 02:00", end_date: "2024-04-21 06:00", text:"Creativity Painting Retreat", href:"https://example.com/15" }
            ];
            events.forEach(ev => { ev.color = colorFor(ev.text); ev.textColor = "#fff"; });
            scheduler.parse(events);

                });
	</script>
</head>
<body>
        <div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100%;'>
		<div class="dhx_cal_navline">
			<div class="dhx_cal_prev_button"></div>
			<div class="dhx_cal_next_button"></div>
			<div class="dhx_cal_today_button"></div>
			<div class="dhx_cal_date"></div>
			<div class="dhx_cal_tab" data-tab="day"></div>
			<div class="dhx_cal_tab" data-tab="week"></div>
			<div class="dhx_cal_tab" data-tab="month"></div>
		</div>

		<div class="dhx_cal_header">
		</div>
                <div class="dhx_cal_data">
                </div>
        </div>
</body>
</html>
